{% extends "base.html" %}

{% block content %}
<div class="grid two">
  <div class="card">
    <h2 class="section-title">Weather advice</h2>
    <p class="badge">Live recommendation</p>
    <p><strong>Temperature:</strong> {{ weather.temp }} °C</p>
    <p><strong>Wind:</strong> {{ weather.wind }} km/h</p>
    <div class="warning" style="margin-top:12px;">
      <strong>Recommendation:</strong> {{ weather.recommendation }}
    </div>
    {% if weather.warnings %}
      <div style="margin-top:12px;">
        {% for warn in weather.warnings %}
          <div class="warning">{{ warn }}</div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
  <div class="card soft">
    <h3 class="section-title">Location</h3>
    <form method="post">
      <div class="form-row">
        <label>Latitude</label>
        <input type="number" step="0.0001" name="lat" value="{{ lat }}" required>
      </div>
      <div class="form-row">
        <label>Longitude</label>
        <input type="number" step="0.0001" name="lon" value="{{ lon }}" required>
      </div>
      <button class="button ghost" type="submit">Update location</button>
    </form>
    <h3 class="section-title" style="margin-top:20px;">7-day forecast</h3>
    <div class="grid">
      {% for day in weather.forecast[:7] %}
        <div class="card">
          <strong>{{ day.date }}</strong><br>
          Max: {{ day.tmax }} °C, Min: {{ day.tmin }} °C<br>
          Rain: {{ day.rain }} mm
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
